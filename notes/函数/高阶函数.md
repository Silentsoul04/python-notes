# 函数式编程

> GitHub@[orca-j35](https://github.com/orca-j35)，所有笔记均托管于 [python_notes](https://github.com/orca-j35/python_notes) 仓库
>
> 扩展阅读: 
>
> - [函数式编程初探 - 阮一峰](http://www.ruanyifeng.com/blog/2012/04/functional_programming.html)
> - [函数式编程 - 廖雪峰](https://www.liaoxuefeng.com/wiki/0014316089557264a6b348958f449949df42a6d3a2e542c000/0014317848428125ae6aa24068b4c50a7e71501ab275d52000)
> - [Functional programming - Wikipedia](https://en.wikipedia.org/wiki/Functional_programming#Python)

注意，是 “函数**式**编程”，而非 “函数编程”。

函数式编程(*functional* *programming*，似乎也称作 *monad*)，是一种["编程范式"](http://en.wikipedia.org/wiki/Programming_paradigm)(*programming* *paradigm*)，也就是如何编写程序的方法论。

函数式编程属于["结构化编程"](http://en.wikipedia.org/wiki/Structured_programming)的一种，主要思想是把运算过程尽量写成一系列嵌套的函数调用。举例来说，现在有这样一个数学表达式：

```
(1 + 2) * 3 - 4
```

传统的过程式编程，可能这样写：

```
var a = 1 + 2;
var b = a * 3;
var c = b - 4;
```

函数式编程要求使用函数，我们可以把运算过程[定义](http://lostechies.com/derickbailey/2012/01/24/some-thoughts-on-functional-javascript/)为不同的函数，然后写成下面这样：

```
var result = subtract(multiply(add(1,2), 3), 4);
```

可以看到在函数式编程的过程中便会用到高阶函数，例如 `subtract` 和 `multiply` 。

## 高阶函数

> 参考: [Higher-order function — wikipedia](https://en.wikipedia.org/wiki/Higher-order_function)
>
> 扩展阅读: ﹝流畅的 Python﹞-> 5.2 高阶函数 

In [mathematics](https://en.wikipedia.org/wiki/Mathematics) and [computer science](https://en.wikipedia.org/wiki/Computer_science), a **higher-order function** is a [function](https://en.wikipedia.org/wiki/Function_(mathematics)) that does at least one of the following:

- takes one or more functions as arguments (i.e. [procedural parameters](https://en.wikipedia.org/wiki/Procedural_parameter)),

  ```python
  # add是高阶函数，因为它将函数f用作参数
  def add(x, y, f):
      return f(x) + f(y)
  add(-5, 6, abs) #> 11
  ```

- returns a function as its result. 

  ```python
  # add是高阶函数，因为它将函数inner作为返回值
  def deco(func):
      def inner():
           print('running inner()')
      return inner
  ```

  详见笔记﹝闭包.md﹞->函数对象作返回值

All other functions are *first-order functions*. 

higher-order function syntax -- Python：

```python
>>> def twice(f): # 高阶函数twice以函数作为参数
...   def result(a):
...     return f(f(a)) # 
...   return result

>>> plusthree = lambda x: x+3

>>> g = twice(plusthree)
    
>>> g(7)
13
```

Python 中的函数都是第一类的数据对象，因此可以将函数赋值给变量、保存到数据结构中、作为参数传递给其它函数，以及作为其它函数的返回值。

内建高阶函数有  `map` , `filter` 和 `sorted` ；闭包和装饰器都用到了高阶函数。

## 相关模块

> 参考:﹝流畅的 Python﹞-> 5.10 支持函数式编程的包

本小节会介绍两个支持函数式编程的模块:  `operator` 和 `functools` 

在函数式编程中，经常需使用算术运算符的函数版本。例如求和 `a+b` ，使用 `sum(a,b)`；



在 `operater` 模块就提供了一组与 Python 的内部运算符相对应的函数。









