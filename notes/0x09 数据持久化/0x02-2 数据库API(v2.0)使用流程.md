# 数据库API(v2.0)使用流程
> GitHub@[orca-j35](https://github.com/orca-j35)，所有笔记均托管于 [python_notes](https://github.com/orca-j35/python_notes) 仓库
>
> 参考:
>
> - 《headfirst python》 第 314 页，与 SQLite 相关的部分

数据库 API 规范 v2.0 (PEP 249) 为"数据驱动模块"的实现者提供了一种访问不同数据库标准机制。因此，只要是遵循 PEP 249 的"数据库驱动模块"，无论其后台使用何种数据库管理系统(DBMS)，操作 DBMS 的代码都遵循相同的使用流程:

```mermaid
graph TB
A("连接:与后台DBMS建立连接") ==>B("创建游标:由连接创建游标,游标通过连接与DBMS通信")
    B ==> C("交互:利用游标,使用SQL与DBMS交互")
    C ==> D("关闭游标")
    D ==> E1["提交:告诉连接让DBMS保留之前游标执行的所有操作"]
    D ==> E2["回滚:告诉连接终止SQL操作,并将数据库回滚到交互开始之前的状态"]
    E1 ==> F("关闭连接:撤销与数据库管理系统的后台连接")
    E2 ==> F
```

PEP 249 的目标是让"数据库访问模块"提供相似的接口，实现一致性，从而让代码便于移植。

