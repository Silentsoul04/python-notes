# sorted

üî®sorted(*iterable*, \*, *key=None*, *reverse=False*)

sorted ÂáΩÊï∞‰ºöÂØπ *iterable* ÂØπË±°ÊâßË°åÊéíÂ∫èÊìç‰ΩúÔºåÂπ∂ËøîÂõû‰∏Ä‰∏™ÂÜÖÂê´ÊéíÂ∫èÁªìÊûúÁöÑÊñ∞ÂàóË°®„ÄÇ

ÂêÑÂèÇÊï∞Âê´‰πâÂ¶Ç‰∏ãÔºö

- *iterable* : ‰∏Ä‰∏™ÂèØËø≠‰ª£ÂØπË±°
- *key* : Áî®‰∫éÂºïÂÖ•‰∏Ä‰∏™**ÂçïÂèÇÊï∞**ÁöÑ**ÂèØË∞ÉÁî®ÂØπË±°**(Â¶Ç `key=str.lower`)ÔºåËØ•ÂØπË±°Ë¢´Áî®‰∫éÊèêÂèñ *iterable* ‰∏≠ÂêÑ‰∏™ÂÖÉÁ¥†ÁöÑÊØîËæÉÈîÆ(*comparison key*)ÔºåÂπ∂‰ª•ÊØîËæÉÈîÆÁöÑÈ°∫Â∫è‰Ωú‰∏∫ÊéíÂ∫è‰æùÊçÆ„ÄÇÂ¶ÇÊûú‰øùÊåÅÈªòËÆ§ÂÄº `None`ÔºåÂàô‰ºöÁõ¥Êé•ÊØîËæÉ *iterable* ‰∏≠ÁöÑÂêÑ‰∏™ÂÖÉÁ¥†„ÄÇ
- *reverse* : ‰∏Ä‰∏™Â∏ÉÂ∞îÂÄºÔºåÁî®‰∫éÊéßÂà∂ÊéíÂàóÈ°∫Â∫è„ÄÇÈªòËÆ§ÂÄº `False` Ë°®Á§∫‰ª•ÂçáÂ∫èÊéíÂàó *iterable* ‰∏≠ÁöÑÂÖÉÁ¥†Ôºõ`True` ÂàôË°®Á§∫‰ª•ÈôçÂ∫èÊéíÂàó *iterable* ‰∏≠ÁöÑÂÖÉÁ¥†„ÄÇ

‰∏Ä‰∫õÁÆÄÂçïÁöÑÂàóÂ≠êÔºö

```python
# Áõ¥Êé•ÊØîËæÉiterable‰∏≠ÁöÑÂêÑ‰∏™ÂÖÉÁ¥†ÔºåÂçáÂ∫èÊéíÂàó
>>> sorted([36, 5, -12, 9, -21])
[-21, -12, 5, 9, 36]

# ‰ΩøÁî®iterable‰∏≠ÂêÑÂÖÉÁ¥†ÁöÑÁªùÂØπÂÄºËøõË°åÊéíÂ∫è
>>> sorted([36, 5, -12, 9, -21], key=abs)
[5, 9, -12, -21, 36]

# ÈôçÂ∫èÊéíÂàó
>>> sorted([36, 5, -12, 9, -21], reverse=True)
[36, 9, 5, -12, -21]

# Â≠óÁ¨¶‰∏≤ÈªòËÆ§ÊåâASCIIÊéíÂ∫èÔºåÂõ†Ê≠§Â§ßÂ∞èÂÜô‰ºöÂΩ±ÂìçÊéíÂ∫èÁªìÊûú
>>> sorted(['bob', 'about', 'Zoo', 'Credit'])
['Credit', 'Zoo', 'about', 'bob']

# ÊéíÂ∫èÊó∂ÂøΩÁï•Â§ßÂ∞èÂÜô
>>> sorted(['bob', 'about', 'Zoo', 'Credit'], key=str.lower)
['about', 'bob', 'Credit', 'Zoo']
```

**Êâ©Â±ïÈòÖËØª**Ôºö["Sorting HOW TO"](https://docs.python.org/3.7/howto/sorting.html#sortinghowto) ‰Ωú‰∏∫‰∏Ä‰∏™ÊéíÂ∫èÊïôÁ®ãÊèê‰æõ‰∫ÜÊõ¥Â§öÂèÇËÄÉÁ§∫‰æã„ÄÇ

## Á®≥ÂÆöÊÄß

Á®≥ÂÆöÊÄßÊéíÂ∫è(stable-sort)ÁÆóÊ≥ïÂú®ÂØπÁõ∏ÂêåÂÖÉÁ¥†ËøõË°åÊéíÂ∫èÊó∂Ôºå‰∏ç‰ºöÊîπÂèòËøô‰∫õÂÖÉÁ¥†Âú®ÊéíÂ∫è‰πãÂâçÁöÑÁõ∏ÂØπ‰ΩçÁΩÆ„ÄÇÊØîÂ¶ÇÂΩìÊàë‰ª¨ÊåâÁÖßÁâåÈù¢ÂÄºËøõË°åÊéíÂ∫èÊó∂ÔºöÂú®Á®≥ÂÆöÊÄßÊéíÂ∫è‰∏≠ÔºåÁ∫¢ÂøÉ 5 ÂíåÈªëÊ°É 5 ÁöÑÂâçÂêéÈ°∫Â∫è‰øùÊåÅ‰∏çÂèòÔºõËÄåÂú®ÈùûÁ®≥ÂÆöÊÄßÁÆóÊ≥ï‰∏≠Ôºå‰∏§ËÄÖÁöÑÈ°∫Â∫èÂàôÂèØËÉΩ‰ºöÂèëÁîüÊîπÂèò„ÄÇ

![Stable sort ](sorted.assets/Stable sort .png)

sorted ÂáΩÊï∞ÈááÁî®Á®≥ÂÆöÊÄßÊéíÂ∫èÁÆóÊ≥ïÔºåÂèØ‰ª•ÁúãÂà∞Ëä±Ëâ≤È°∫Â∫è‰∏ç‰ºöÊîπÂèòÔºö

```python
>>> cards = [(7,"ÈªëÊ°É"), (5,"Á∫¢Ê°É"), (2,"Á∫¢Ê°É"), (5,"ÈªëÊ°É")]
>>> sorted(cards, key=lambda item:item[0])
[(2, 'Á∫¢Ê°É'), (5, 'Á∫¢Ê°É'), (5, 'ÈªëÊ°É'), (7, 'ÈªëÊ°É')]
```

ÂΩìÊï∞ÊçÆÈúÄË¶ÅËøûÁª≠ÁªèÂéÜÂ§ö‰∏™ÊéíÂ∫èÊ≠•È™§Êó∂(ÊØîÂ¶ÇÂÖàÊåâÈÉ®Èó®ÊéíÂ∫èÔºåÂÜçÊåâÂ∑•ËµÑÁ≠âÁ∫ßÊéíÂ∫è)ÔºåÁ®≥ÂÆöÊÄßÊéíÂ∫èÁÆóÊ≥ï‰ºöÈùûÂ∏∏ÂÆûÁî®ÔºåÂõ†‰∏∫ÂÆÉ‰∏ç‰ºöÊîπÂèò‰∏ä‰∏ÄÊ≠•Â∑≤ÊéíÂàóÂ•ΩÁöÑÈ°∫Â∫è„ÄÇ

```python
>>> # ÂÖàÊåâÁâåÈù¢ÂÄºÊéíÂ∫èÔºåÂÜçÊåâÁÖßËä±Ëâ≤ÊéíÂ∫è
>>> cards = [(6, "ÈªëÊ°É"), (5, "Á∫¢Ê°É"), (4, "ÊñπÁâá"), (2, "Ê¢ÖËä±"),
         (7, "ÈªëÊ°É"), (8, "Á∫¢Ê°É"), (3, "ÊñπÁâá"), (1, "Ê¢ÖËä±")]
>>> first = sorted(cards, key=lambda item: item[0])
>>> first
[(1, 'Ê¢ÖËä±'), (2, 'Ê¢ÖËä±'), (3, 'ÊñπÁâá'), (4, 'ÊñπÁâá'), (5, 'Á∫¢Ê°É'), (6, 'ÈªëÊ°É'), (7, 'ÈªëÊ°É'), (8, 'Á∫¢Ê°É')]
>>> second = sorted(first, key=lambda item: item[1])
>>> second
[(3, 'ÊñπÁâá'), (4, 'ÊñπÁâá'), (1, 'Ê¢ÖËä±'), (2, 'Ê¢ÖËä±'), (5, 'Á∫¢Ê°É'), (8, 'Á∫¢Ê°É'), (6, 'ÈªëÊ°É'), (7, 'ÈªëÊ°É')]
```

## functools.cmp_to_key

Âú® Py2.x ÁâàÊú¨‰∏≠ sorted ÂáΩÊï∞ÁöÑËØ≠Ê≥ïÂ¶Ç‰∏ãÔºö

```python
sorted (iterable[, cmp[, key[, reverse]]])
```

ÂèØ‰ª•ÁúãÂà∞ÔºåPy2.x ‰∏≠ÁöÑ sorted ÂáΩÊï∞ÊØî Py3.0 Â§ö‰∫Ü‰∏Ä‰∏™ *cmp* ÂèÇÊï∞„ÄÇ*cmp* ÊòØ‰∏Ä‰∏™ÂèØÈÄâÂèÇÊï∞ÔºåÁî®‰∫éÂºïÂÖ•Ëá™ÂÆö‰πâÊØîËæÉÂáΩÊï∞„ÄÇÊØîËæÉÂáΩÊï∞ÈúÄË¶ÅÊé•Âèó‰∏§‰∏™ÂèÇÊï∞ÔºåÂπ∂‰ª•Ê≠£Êï∞„ÄÅÈõ∂ÂíåË¥üÊï∞Êù•Ë°®Á§∫‰∏§‰∏™ÂèÇÊï∞ÁöÑÊØîËæÉÁªìÊûú„ÄÇ‰æãÂ¶ÇÔºö

```python
def numeric_compare(x, y):
    """
    ËøîÂõûÊ≠£Êï∞ÔºåË°®Á§∫xÂ§ß‰∫éyÔºõ
    ËøîÂõû0ÔºåË°®Á§∫xÁ≠â‰∫éyÔºõ
    ËøîÂõûË¥üÊï∞ÔºåË°®Á§∫xÂ∞è‰∫éy„ÄÇ
    """
    return x - y
```

Âú® Py2.x ‰∏≠ÔºåÊàë‰ª¨ÂèØ‰ª•ÈÄöËøá *cmp* ÂèÇÊï∞Ëá™ÂÆö‰πâÊéíÂ∫èÂáΩÊï∞Ôºö

```python
>>> def numeric_compare(x, y):
...     return x - y
>>> sorted([5, 2, 4, 1, 3], cmp=numeric_compare) 
[1, 2, 3, 4, 5]
```

Â¶ÇÊûúÈúÄË¶ÅÁøªËΩ¨‰∏äËø∞ÊéíÂ∫èÈ°∫Â∫èÁöÑËØùÔºåÂè™ÈúÄÁ®ç‰Ωú‰øÆÊîπÂç≥ÂèØÔºö

```python
>>> def reverse_numeric(x, y):
...     return y - x
>>> sorted([5, 2, 4, 1, 3], cmp=reverse_numeric) 
[5, 4, 3, 2, 1]
```

‰ΩÜÊòØÔºåsorted ÂáΩÊï∞Âú® Py3.0 ‰∏≠ËØ•ÂèÇÊï∞Â∑≤ÁßªÈô§‰∫Ü *cmp* ÂèÇÊï∞„ÄÇÂΩìÊàë‰ª¨Â∞Ü‰ª£Á†Å‰ªé Py2.x ÁßªÊ§çÂà∞ Py3.x Êó∂Ôºå‰æøÈúÄË¶ÅÂ∞ÜÊóßÂºèÊØîËæÉÂáΩÊï∞(comparison function)ËΩ¨Êç¢‰∏∫ÈîÆÂáΩÊï∞([key function](https://docs.python.org/3.7/glossary.html#term-key-function))„ÄÇ‰∏∫‰∫ÜÊª°Ë∂≥ËØ•ÈúÄÊ±ÇÔºåÊàë‰ª¨ÂèØ‰ª•‰ΩøÁî® `functools.cmp_to_key()` ÂáΩÊï∞„ÄÇ

[cmp_to_key](https://docs.python.org/3.7/library/functools.html#functools.cmp_to_key) ÂáΩÊï∞Áî®‰∫éÂ∞ÜÊóßÂºèÊØîËæÉÂáΩÊï∞(comparison function)ËΩ¨Êç¢‰∏∫ÈîÆÂáΩÊï∞([key function](https://docs.python.org/3.7/glossary.html#term-key-function))ÔºåÂú® Py3.2 ‰∏≠Ë¢´ÂºïÂÖ•„ÄÇ‰ΩøÁî®ÊñπÂºèÂ¶Ç‰∏ãÔºö

```python
>>> # in Python 3
>>> def reverse_numeric(x, y):
...     return y - x
>>> sorted([5, 2, 4, 1, 3], key=cmp_to_key(reverse_numeric))
[5, 4, 3, 2, 1]
```

cmp_to_key ÂáΩÊï∞ÁöÑÊ∫ê‰ª£Á†ÅÂ¶Ç‰∏ãÔºö

```python
def cmp_to_key(mycmp):
    'Convert a cmp= function into a key= function'
    class K:
        def __init__(self, obj, *args):
            self.obj = obj
        def __lt__(self, other):
            return mycmp(self.obj, other.obj) < 0
        def __gt__(self, other):
            return mycmp(self.obj, other.obj) > 0
        def __eq__(self, other):
            return mycmp(self.obj, other.obj) == 0
        def __le__(self, other):
            return mycmp(self.obj, other.obj) <= 0
        def __ge__(self, other):
            return mycmp(self.obj, other.obj) >= 0
        def __ne__(self, other):
            return mycmp(self.obj, other.obj) != 0
    return K
```

