# 0x04 数据结构

[TOC]



## 3. 集合类型 - set

Set Types — [`set`](https://docs.python.org/3/library/stdtypes.html#set), [`frozenset`](https://docs.python.org/3/library/stdtypes.html#frozenset)[¶](https://docs.python.org/3/library/stdtypes.html#set-types-set-frozenset)






### 创建集合





```
>>> basket = {'apple', 'orange', 'apple', 'pear', 'orange', 'banana'}
>>> print(basket)                      # show that duplicates have been removed
{'orange', 'banana', 'pear', 'apple'}
>>> 'orange' in basket                 # fast membership testing 
True
>>> 'crabgrass' in basket
False

>>> # Demonstrate set operations on unique letters from two words
...
>>> a = set('abracadabra')
>>> b = set('alacazam')
>>> a                                  # unique letters in a 
{'a', 'r', 'b', 'c', 'd'}
>>> a - b                              # letters in a but not in b
{'r', 'd', 'b'}
>>> a | b                              # letters in either a or b
{'a', 'c', 'r', 'd', 'b', 'm', 'z', 'l'}
>>> a & b                              # letters in both a and b
{'a', 'c'}
>>> a ^ b                              # letters in a or b but not both
{'r', 'd', 'b', 'm', 'z', 'l'}
```



### 操作集合的方法



-   `update`(**others*)

-   `set |= other | ...`

    Update the set, adding elements from all others. 
    `a = t | s` 并集


-   `intersection_update`(**others*)

-   `set &= other & ...`

    Update the set, keeping only elements found in it and all others.
    `a = t & s` 交集


-   `difference_update`(**others*)

-   `set -= other | ...`

    Update the set, removing elements found in others.
    `a = t - s` 求差集，求在 t 中，但不在 s 中的项


-   `symmetric_difference_update`(*other*)

-   `set ^= other`

    Update the set, keeping only elements found in either set, but not in both.
    `a = t ^ s` 对称差集，求在 t 或 s 中，但不同时出现在两者中的项


-   `add`(*elem*)

    将 *elem* 元素添加到集合中。


-   `remove`(*elem*)

    Remove element *elem* from the set. Raises [`KeyError`](https://docs.python.org/3/library/exceptions.html#KeyError) if *elem* is not contained in the set.删除某项


-   `discard`(*elem*)

    Remove element *elem* from the set if it is present.


-   `pop`()

    Remove and return an arbitrary element from the set. Raises [`KeyError`](https://docs.python.org/3/library/exceptions.html#KeyError) if the set is empty.


-   `clear`()

    Remove all elements from the set.



```
>>> bri = set(['brazil', 'russia', 'india'])
>>> 'india' in bri
True
>>> 'usa' in bri
False
>>> bric = bri.copy()
>>> bric.add('china')
 #.issuperset方法测试bric是否为bri的超集
>>> bric.issuperset(bri)
True
>>> bri.remove('russia')
#.intersection 交集
>>> bri & bric # OR bri.intersection(bric)
{'brazil', 'india'}
```



## 4. 比较序列和其它类型

Comparing Sequences and Other Types

序列对象可以与具有相同序列类型的其他对象进行比较。 
比较使用词典 *lexicographical* 顺序：

-   首先比较前两个项目，如果它们不同，即可得出比较结果；如果它们相等，则比较接下来的两个项目，以此类推，直到任一序列被耗尽。

-   如果要比较的两个项本身是相同类型的序列，则递归地执行词典性比较。 如果两个序列的所有项目比较相等，则认为序列相等。 

-   如果一个序列是另一个序列的初始子序列，则较短的序列小于较长的序列。

字符串的词典 Lexicographical 排序使用 Unicode 代码标记单个字符排序的序号。相同类型的序列之间的比较的一些实例：

```
(1, 2, 3)              < (1, 2, 4)
[1, 2, 3]              < [1, 2, 4]
'ABC' < 'C' < 'Pascal' < 'Python' # 并不是字符越多越大
(1, 2, 3, 4)           < (1, 2, 4)
(1, 2)                 < (1, 2, -1)
(1, 2, 3)             == (1.0, 2.0, 3.0)
(1, 2, ('aa', 'ab'))   < (1, 2, ('abc', 'a'), 4)
```

注意：使用 `<` 或 `>` 比较两个不同类型的对象时，只要这些对象具有适当的比较方法，这种比较就是合法的。例如，混合数字类型根据其数值进行比较，因此 0 等于 0.0 。否则，解释器将抛出 `TypeError` 异常。

## 5. 补充

### del 语句

The [`del`](https://docs.python.org/3/reference/simple_stmts.html#del) statement

`del` 语句可以从列表中按给定的索引而不是值来删除一个子项。
`pop()` 方法有返回值。
`del` 还可用于从列表中删除切片或清空整个列表。
（通过为切片分配空列表，同样可以删除或清空整个列表）

```
>>> a = [-1, 1, 66.25, 333, 333, 1234.5]
>>> del a[0]
>>> a
[1, 66.25, 333, 333, 1234.5]
>>> del a[2:4]
>>> a
[1, 66.25, 1234.5]
>>> del a[:]
>>> a
[]
```

`del` 也可用于删除整个变量。删除后，若再引用此变量，就会引发错误。

```
>>> del a
```


